(function(e){function t(t){for(var i,s,r=t[0],c=t[1],u=t[2],l=0,p=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var r=n[s];0!==a[r]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},s={auth:0},a={auth:0},o=[];function r(e){return c.p+"js/"+({"chunk-vue-tel-input":"chunk-vue-tel-input"}[e]||e)+"."+{"chunk-vue-tel-input":"908d1187"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-vue-tel-input":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var i="css/"+({"chunk-vue-tel-input":"chunk-vue-tel-input"}[e]||e)+"."+{"chunk-vue-tel-input":"0ed9a311"}[e]+".css",a=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var u=o[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===a))return t()}var p=document.getElementsByTagName("style");for(r=0;r<p.length;r++){u=p[r],l=u.getAttribute("data-href");if(l===i||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[e],d.parentNode.removeChild(d),n(o)},d.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){s[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(e);var p=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",p.name="ChunkLoadError",p.type=i,p.request=s,n[1](p)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/local/templates/youtravel/vue-app/dist/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var d=l;o.push([17,"chunk-vendors","chunk-common"]),n()})({"0a52":function(e,t,n){"use strict";n("f3bb")},"14f1":function(e,t,n){"use strict";n("73bb")},17:function(e,t,n){e.exports=n("b554")},"2b31":function(e,t,n){"use strict";n("c638")},"32b9":function(e,t,n){},3520:function(e,t,n){"use strict";n("ef83")},5658:function(e,t,n){"use strict";n("6754")},"5a64":function(e,t,n){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},6754:function(e,t,n){},"6e9f":function(e,t,n){},"73bb":function(e,t,n){},7576:function(e,t,n){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},"8fa5":function(e,t,n){"use strict";n("da69")},"9a28":function(e,t,n){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},"9a41":function(e,t,n){"use strict";n("7576")},"9e2f":function(e,t,n){"use strict";n("9a28")},b09c:function(e,t,n){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},b42c:function(e,t,n){"use strict";n("c761")},b554:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=(n("b0c0"),function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isAuth,expression:"isAuth"}],staticClass:"auth"},[t("Loader",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"auth__loader"}),e.isInitial?t("Initial",{attrs:{socialNets:e.socialNets,isSafari:e.isSafari,appleSoc:e.appleSoc},on:{close:function(t){return e.close()},loading:e.setLoading,showSignup:e.showSignup,showPassword:e.showPassword,showConfirmSms:e.showConfirmSms,openPopup:e.openPopup}}):e._e(),e.isExisting?t("Existing",{attrs:{email:e.email,phone:e.phone,avatar:e.avatar,name:e.name,eixstingSocial:e.eixstingSocial,socialNets:e.socialNets,isSafari:e.isSafari,appleSoc:e.appleSoc,authType:e.authType},on:{close:function(t){return e.close()},showInitial:function(t){return e.showInitial(!0)},showPassword:e.showPassword,showConfirmSms:e.showConfirmSms,openPopup:e.openPopup,loading:e.setLoading}}):e._e(),e.isPassword?t("Password",{attrs:{email:e.email},on:{close:function(t){return e.close()},loading:e.setLoading,showInitial:e.showInitial,success:e.onSuccess}}):e._e(),e.isCofirm?t("ConfirmSms",{attrs:{phone:e.phone,validate:e.validate},on:{close:function(t){return e.close()},loading:e.setLoading,showInitial:e.showInitial,success:e.onSuccess}}):e._e(),e.isSignup?t("Signup",{attrs:{socialNets:e.socialNets,isSafari:e.isSafari,appleSoc:e.appleSoc,email:e.email,phone:e.phone},on:{close:function(t){return e.close()},loading:e.setLoading,showInitial:e.showInitial,success:e.onSuccess,openPopup:e.openPopup}}):e._e()],1)])}),a=[],o=n("1da1"),r=n("5530"),c=(n("96cf"),n("7db0"),n("ac1f"),n("1276"),n("caad"),n("2532"),n("5319"),n("4de4"),n("d81d"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"loader"},[t("Icon",{attrs:{icon:"loader-circle"}})],1)}),u=[],l=n("c16e"),p={name:"loader",components:{Icon:l["a"]}},d=p,h=(n("e820"),n("0c7c")),f=Object(h["a"])(d,c,u,!1,null,"047679fc",null),m=f.exports,g=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"initial__wrapper",on:{close:function(t){return e.close()}}},[t("div",{staticClass:"initial"},[t("div",{staticClass:"initial__header"},[t("div",{staticClass:"initial__header__label font-h1",domProps:{textContent:e._s(e.$t("auth.initial.title"))}}),t("div",{staticClass:"initial__header__icon-close",on:{click:function(t){return e.close()}}},[t("Icon",{attrs:{icon:"close",color:"#9999A9"}})],1)]),t("div",{staticClass:"initial__body"},[t("Input",e._b({directives:[{name:"show",rawName:"v-show",value:e.isEmailType,expression:"isEmailType"}],attrs:{error:e.inputEmail.error},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkCredentials()}},model:{value:e.inputEmail.value,callback:function(t){e.$set(e.inputEmail,"value",t)},expression:"inputEmail.value"}},"Input",e.inputEmail,!1)),t("Input",e._b({directives:[{name:"show",rawName:"v-show",value:!e.isEmailType,expression:"!isEmailType"}],attrs:{error:e.inputPhone.error,autocomplete:"tel",phone:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkCredentials()}},model:{value:e.inputPhone.value,callback:function(t){e.$set(e.inputPhone,"value",t)},expression:"inputPhone.value"}},"Input",e.inputPhone,!1)),t("Button",{staticClass:"initial__body__btn",attrs:{text:e.initialText.btnNext},on:{click:function(t){return e.checkCredentials()}}}),t("span",{domProps:{textContent:e._s(e.$t("auth.initial.or"))}}),t("div",{staticClass:"initial__body__social"},e._l(e.socialNets,(function(n){return t("div",e._b({key:n.code,staticClass:"initial__body__social__btn",style:{backgroundImage:n.imgUrl,backgroundSize:n.size},on:{click:function(t){return e.clickSocial(n)}}},"div","apple"===n.code&&e.isSafari&&e.appleSoc,!1))})),0),t("Button",{staticClass:"initial__body__btn",attrs:{color:"white",text:e.initialText.btnChange},on:{click:function(t){return e.changeSigninType()}}}),e.isShowYandexId?t("YtButton",{staticClass:"initial__body__btn__yandex",attrs:{color:"black"},on:{click:function(t){return e.clickYandexIdBtn()}}},[t("div"),t("div",{staticClass:"font-h2",domProps:{textContent:e._s(e.$t("auth.initial.yandex.button"))}})]):e._e()],1)]),t("PopupYandex",{model:{value:e.popupYandex,callback:function(t){e.popupYandex=t},expression:"popupYandex"}})],1)},v=[],_=(n("498a"),n("c763")),w=n("3d6b"),k=n("160c"),b=n("4992"),y=function(){var e=this,t=e._self._c;return t("Popup",{staticClass:"popup-yandex",attrs:{size:"sm"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"popup-yandex__title font-h1 u-text-center"},[e._v(" "+e._s(e.$t("auth.initial.yandex.popup.title"))+" ")]),t("div",{staticClass:"popup-yandex__text font-semibold"},[e._v(" "+e._s(e.$t("auth.initial.yandex.popup.text"))+" ")])])},x=[],C=n("035a"),S={components:{Popup:C["a"]},model:{prop:"modelValue",event:"change"},props:{modelValue:{type:Boolean,required:!0}},computed:{visible:{get:function(){return this.modelValue},set:function(e){this.$emit("change",e)}}}},P=S,E=(n("14f1"),Object(h["a"])(P,y,x,!1,null,"7aad790f",null)),I=E.exports,O=n("a8d5"),T={getUser:function(){return O["a"].get("/user")},getServices:function(e){return O["a"].get("/auth/getServices?backurl=".concat(e))},signinByEmail:function(e){return O["a"].post("/auth/post",e)},registerUser:function(e){return O["a"].post("/auth/registration",e)},recoverPassword:function(e){return O["a"].post("/auth/recover-password",{email:e})},checkAuthEmail:function(e){return O["a"].post("/auth/checkAuthEmail",{email:e})},signinByPhone:function(e){return O["a"].post("/auth/phone",e)},sendAuthCode:function(e){return O["a"].post("/auth/sendAuthCode",{phone:e})},checkAuthPhone:function(e){return O["a"].post("/auth/checkAuthPhone",{phone:e})},sendValidationCode:function(e){return O["a"].post("/auth/validatephonesend",{phone:e})},validateCode:function(e){return O["a"].post("/auth/validatephonecheck",e)}},A=(n("466d"),function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}),N=n("9ea0"),j=n("1a52"),R=n("ba9c"),B={components:{Icon:l["a"],Modal:_["a"],Input:w["a"],Button:k["a"],YtButton:b["a"],PopupYandex:I},props:{socialNets:{type:Array,required:!0},isSafari:{type:Boolean,required:!0},appleSoc:{type:Object,required:!0}},data:function(){return{isRussian:"ru"===j["a"].locale,isEmailType:!0,inputEmail:{value:"",placeholder:"E-mail",error:!1,autocomplete:"email",name:"email"},inputPhone:{value:"",phone:!0,error:!1,autocomplete:"tel",name:"tel"},popupYandex:!1}},computed:{initialText:function(){return{btnNext:this.isEmailType?this.$t("auth.initial.continueWithEmail"):this.$t("auth.initial.continueWithPhone"),btnChange:this.isEmailType?this.$t("auth.initial.loginWithPhone"):this.$t("auth.initial.loginWithEmail")}},isShowYandexId:function(){return!1},sizeSm:R["c"]},methods:{close:function(){this.$emit("close")},checkCredentials:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a,o,r,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("loading",!0),!e.isEmailType){t.next=12;break}if(N["a"].track("Sign-in popup","Click Email continue button"),n=e.inputEmail.value.trim(),i=e.checkEmail(n),!i){t.next=10;break}return t.next=8,T.checkAuthEmail(n).catch((function(){e.$emit("loading",!1),e.$emit("showSignup",{email:n})}));case 8:a=t.sent,null!==a&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.success&&(e.$emit("loading",!1),e.$emit("showPassword",n));case 10:t.next=25;break;case 12:if(!(e.inputPhone.value.replace(/ /g,"").length<12)){t.next=16;break}e.inputPhone.error=e.$t("auth.initial.wrongPhone"),t.next=25;break;case 16:if(!e.inputPhone.value){t.next=25;break}return t.next=19,T.checkAuthPhone(e.inputPhone.value).catch((function(){e.$emit("loading",!1),e.$emit("showSignup",{phone:e.inputPhone.value})}));case 19:if(r=t.sent,null===r||void 0===r||null===(o=r.data)||void 0===o||!o.success){t.next=25;break}return t.next=23,T.sendAuthCode(e.inputPhone.value).catch((function(t){t.response&&(e.inputPhone.error=t.response.data.data.message)}));case 23:u=t.sent,null!==u&&void 0!==u&&null!==(c=u.data)&&void 0!==c&&c.success&&(e.$emit("loading",!1),e.$emit("showConfirmSms",{phone:e.inputPhone.value,validate:!1}));case 25:e.$emit("loading",!1);case 26:case"end":return t.stop()}}),t)})))()},checkEmail:function(e){return e&&A(e)?(this.inputEmail.error=!1,!0):(this.inputEmail.error=this.$t("auth.initial.wrongEmail"),!1)},changeSigninType:function(){this.isEmailType&&N["a"].track("Sign-in popup","Click Phone button"),this.isEmailType=!this.isEmailType},clickSocial:function(e){N["a"].track("Sign-in popup","Click OAuth button",e.code,"".concat(e.code," Sign-in popup")),this.$emit("openPopup",e)},clickYandexIdBtn:function(){this.popupYandex=!0,N["a"].track("Sign-in popup","Click YandexID button")}},mounted:function(){this.isSafari&&AppleID.auth.init(JSON.parse(this.socialNets.find((function(e){var t=e.code;return"apple"===t})).url))}},L=B,U=(n("9a41"),n("5658"),Object(h["a"])(L,g,v,!1,null,"6ed6291a",null)),q=U.exports,M=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"existing__wrapper",on:{close:function(t){return e.close()}}},[t("div",{staticClass:"existing"},[t("div",{staticClass:"existing__header"},[t("div",{staticClass:"existing__header__label font-h1",domProps:{textContent:e._s(e.$t("auth.existing.title",{name:e.name}))}}),t("div",{staticClass:"existing__header__icon-close",on:{click:function(t){return e.close()}}},[t("Icon",{attrs:{icon:"close",color:"#9999A9"}})],1)]),t("div",{staticClass:"existing__body"},[t("div",{staticClass:"existing__body__photo"},[e.photoUrl?t("img",{attrs:{src:e.photoUrl,height:"65",width:"64"}}):e._e(),e.photoUrl?e._e():t("Icon",{attrs:{icon:"user",color:"#D1D7E8"}})],1),t("div",{staticClass:"existing__body__email"},[t("Icon",{attrs:{icon:"email",color:"#121212"}}),t("div",{staticClass:"font-text",domProps:{textContent:e._s(e.hiddenCredentials)}})],1),e.socialNetwork?e._e():t("Button",{staticClass:"existing__body__btn",attrs:{text:e.$t("auth.existing.login")},on:{click:function(t){return e.clickSigninPwd()}}}),e.socialNetwork?t("Button",{staticClass:"existing__body__btn",attrs:{color:"white",text:e.$t("auth.existing.continueWith",{social:e.socialNetwork.name})},on:{click:function(t){return e.clickSigninSoc(e.socialNetwork)}}},[t("div",{staticClass:"existing__body__btn__icon",style:{backgroundImage:e.socialNetwork.imgUrl}},["apple"===e.socialNetwork.code&&e.isSafari?t("div",e._b({},"div",e.appleSoc,!1)):e._e()])]):e._e(),t("div",{staticClass:"existing__body__btn-tip__wrapper"},[t("span",{staticClass:"existing__body__btn-tip font-h2",domProps:{textContent:e._s(e.$t("auth.existing.different"))},on:{click:function(t){return e.clickOtherType()}}})])],1)])])},W=[],F=(n("99af"),n("fb6a"),{components:{Icon:l["a"],Modal:_["a"],Button:k["a"]},props:{authType:{type:String,required:!0},phone:{type:String,required:!1},email:{type:String,required:!0},avatar:{type:String,default:""},name:{type:String,default:""},eixstingSocial:{type:String,default:""},socialNets:{type:Array,required:!0},isSafari:{type:Boolean,required:!0},appleSoc:{type:Object,required:!0}},data:function(){return{socalNet:""}},computed:{hiddenCredentials:function(){var e;return"phone"===this.authType?"".concat(this.phone.slice(0,2),"•••••").concat(this.phone.slice(this.phone.length-4)):null===this||void 0===this||null===(e=this.email)||void 0===e?void 0:e.replace(/(\w{1})[\w.-]+@([\w.]+\w)/,"$1•••••@$2")},photoUrl:function(){return this.avatar&&"".concat("").concat(this.avatar)},socialNetwork:function(){var e=this;return this.eixstingSocial&&this.socialNets.find((function(t){var n=t.code;return n===e.eixstingSocial}))}},methods:{close:function(){this.$emit("close")},clickSigninSoc:function(e){N["a"].track("Sign-in popup","Click Sign-in known button",e.code),this.$emit("openPopup",e)},clickSigninPwd:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(N["a"].track("Sign-in popup","Click Sign-in known button",e.email),"phone"!==e.authType){t.next=10;break}return e.$emit("loading",!0),t.next=5,T.sendAuthCode(e.phone).catch((function(e){console.log(e),e.response&&console.log(e.response)}));case 5:i=t.sent,null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.success&&e.$emit("showConfirmSms",{phone:e.phone,validate:!1}),e.$emit("loading",!1),t.next=11;break;case 10:e.$emit("showPassword",e.email);case 11:case"end":return t.stop()}}),t)})))()},clickOtherType:function(){N["a"].track("Sign-in popup","Click Sign-in with other type"),this.$emit("showInitial")}},mounted:function(){this.isSafari&&AppleID.auth.init(JSON.parse(this.socialNets.find((function(e){var t=e.code;return"apple"===t})).url))}}),z=F,Y=(n("cc04"),n("2b31"),Object(h["a"])(z,M,W,!1,null,"9b71372a",null)),D=Y.exports,V=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"password__wrapper",on:{close:function(t){return e.close()}}},[t("div",{staticClass:"password"},[t("div",{staticClass:"password__header"},[t("div",{staticClass:"password__header__icon-back",on:{click:function(t){return e.back()}}},[t("Icon",{attrs:{icon:"back",color:"#9999A9"}})],1),t("div",{staticClass:"password__header__label font-h1",domProps:{textContent:e._s(e.$t("auth.existing.login"))}}),t("div",{staticClass:"password__header__icon-close",on:{click:function(t){return e.close()}}},[t("Icon",{attrs:{icon:"close",color:"#9999A9"}})],1)]),t("div",{staticClass:"password__body"},[e.isResetPassword?e._e():[t("Input",e._b({on:{inputType:function(t){return e.setInputType()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signin()}},model:{value:e.inputPassword.value,callback:function(t){e.$set(e.inputPassword,"value",t)},expression:"inputPassword.value"}},"Input",e.inputPassword,!1)),t("Button",{staticClass:"password__body__btn",attrs:{text:e.$t("auth.existing.login")},on:{click:function(t){return e.signin()}}}),t("div",{staticClass:"password__body__btn-tip__wrapper"},[t("span",{staticClass:"password__body__btn-tip font-h2",domProps:{textContent:e._s(e.$t("auth.password.forgotPassword"))},on:{click:function(t){return e.clickForgotPwd()}}})])],e.isResetPassword?[t("div",{staticClass:"password__body__text",domProps:{innerHTML:e._s(e.resetPasswordText.header)}}),t("Input",e._b({directives:[{name:"show",rawName:"v-show",value:!e.isEmailSent,expression:"!isEmailSent"}],nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickResetPassword()}},model:{value:e.resetPassword.value,callback:function(t){e.$set(e.resetPassword,"value",t)},expression:"resetPassword.value"}},"Input",e.resetPassword,!1)),t("Button",{staticClass:"password__body__btn",attrs:{text:e.resetPasswordText.button},on:{click:function(t){return e.clickResetPassword()}}})]:e._e()],2)])])},J=[],H={components:{Icon:l["a"],Modal:_["a"],Input:w["a"],Button:k["a"]},props:{email:{type:String,default:""}},data:function(){return{inputPassword:{value:"",placeholder:this.$t("auth.password.password"),inputType:"password",name:"password",eye:!0,error:!1,autocomplete:"current-password"},resetPassword:{value:"",placeholder:"E-mail",error:!1},isResetPassword:!1,isEmailSent:!1}},watch:{email:function(e){e&&(this.resetPassword.value=e)}},computed:{resetPasswordText:function(){return{header:this.isEmailSent?this.$t("auth.password.resetPasswordSent",{email:this.resetPassword.value}):this.$t("auth.password.resetPassword"),button:this.isEmailSent?this.$t("auth.ok"):this.$t("auth.sendLink")}}},methods:{close:function(){this.$emit("close")},back:function(){N["a"].track("Sign-in popup","Click Back button"),this.isResetPassword?this.isEmailSent?this.isEmailSent=!1:this.isResetPassword=!1:this.$emit("showInitial")},setInputType:function(){this.inputPassword.inputType="password"===this.inputPassword.inputType?"text":"password"},checkEmail:function(e){return e&&A(e)?(this.resetPassword.error=!1,!0):(this.resetPassword.error=this.$t("auth.initial.wrongEmail"),!1)},clickForgotPwd:function(){N["a"].track("Sign-in popup","Click Forget password"),N["a"].track("Sign-in popup","Show Forget password popup"),this.isResetPassword=!0},clickResetPassword:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(N["a"].track("Sign-in popup","Click Send reset link"),e.$emit("loading",!0),!e.isEmailSent){t.next=8;break}e.$emit("showInitial"),e.isResetPassword=!1,e.isEmailSent=!1,t.next=13;break;case 8:if(!e.checkEmail(e.resetPassword.value)){t.next=13;break}return t.next=11,T.recoverPassword(e.resetPassword.value).catch((function(t){console.log(t),t.response&&(e.resetPassword.error=t.response.data.data.message)}));case 11:i=t.sent,null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.success&&(e.isEmailSent=!0);case 13:e.$emit("loading",!1);case 14:case"end":return t.stop()}}),t)})))()},signin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(N["a"].track("Sign-in popup","Click Sign-in password button"),e.$emit("loading",!0),e.inputPassword.error=!1,!e.inputPassword.value){t.next=10;break}return t.next=6,T.signinByEmail({login:e.email,password:e.inputPassword.value}).catch((function(t){console.log(t),t.response&&(e.inputPassword.error=t.response.data.data.message)}));case 6:i=t.sent,null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.success&&(e.$emit("success"),s=JSON.parse(i.data.data.user.replace(/'/g,'"')),a=new CustomEvent("Auth::user",{detail:Object(r["a"])({},s)}),fakeWindow.dispatchEvent(a)),t.next=11;break;case 10:e.inputPassword.error=e.$t("auth.password.enterPassword");case 11:e.$emit("loading",!1);case 12:case"end":return t.stop()}}),t)})))()}}},G=H,K=(n("0a52"),n("3520"),Object(h["a"])(G,V,J,!1,null,"08ea028b",null)),Z=K.exports,Q=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"confirm__wrapper",on:{close:function(t){return e.close()}}},[t("div",{staticClass:"confirm"},[t("div",{staticClass:"confirm__header"},[t("div",{staticClass:"confirm__header__icon-back",on:{click:function(t){return e.back()}}},[t("Icon",{attrs:{icon:"back",color:"#9999A9"}})],1),t("div",{staticClass:"confirm__header__label font-h1",domProps:{textContent:e._s(e.$t("auth.confirm.title"))}}),t("div",{staticClass:"confirm__header__icon-close",on:{click:function(t){return e.close()}}},[t("Icon",{attrs:{icon:"close",color:"#9999A9"}})],1)]),t("div",{staticClass:"confirm__body"},[t("div",{staticClass:"confirm__body__text",domProps:{innerHTML:e._s(e.bodyText)}}),t("div",{staticClass:"confirm__body__change-number font-h2",domProps:{textContent:e._s(e.$t("auth.confirm.change"))},on:{click:function(t){return e.$emit("showInitial")}}}),t("Input",e._b({directives:[{name:"show",rawName:"v-show",value:!e.isEmailSent,expression:"!isEmailSent"}],attrs:{error:e.smsCode.error},model:{value:e.smsCode.value,callback:function(t){e.$set(e.smsCode,"value",t)},expression:"smsCode.value"}},"Input",e.smsCode,!1)),t("Button",{staticClass:"confirm__body__btn",attrs:{text:e.buttonText,color:"gray",disabled:e.disabled},on:{click:function(t){return e.sendCode()}}})],1)])])},X=[],ee={components:{Icon:l["a"],Modal:_["a"],Input:w["a"],Button:k["a"]},props:{phone:{type:String,required:!0},validate:{type:Boolean,default:!1}},data:function(){return{smsCode:{value:"",placeholder:this.$t("auth.confirm.code"),error:!1,autocomplete:"one-time-code"},timerCount:45}},watch:{timerCount:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.timerCount--}),1e3)},immediate:!0},"smsCode.value":function(e){6===e.length&&(N["a"].track("Sign-in popup","Send Auth sms code"),this.validateCode())}},computed:{bodyText:function(){return"".concat(this.$t("auth.confirm.codeSentTo")," <b>").concat(this.phone,"</b>.")},buttonText:function(){return this.timerCount>0?this.$t("auth.confirm.resendAfter",{seconds:this.timerCount}):this.$t("auth.confirm.resend")},disabled:function(){return this.timerCount>0}},methods:{close:function(){this.$emit("close")},back:function(){this.validate?this.$emit("showSignup",{phone:this.phone}):this.$emit("showInitial")},sendCode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.timerCount){t.next=15;break}if(N["a"].track("Sign-in popup","Click Repeat sms button"),e.$emit("loading",!0),e.smsCode.error=!1,!e.validate){t.next=10;break}return t.next=7,T.sendValidationCode(e.user.phone).catch((function(t){console.log(t),t.response&&(e.errors.password=t.response.data.data.message)}));case 7:s=t.sent,t.next=13;break;case 10:return t.next=12,T.sendAuthCode(e.phone).catch((function(t){t.response&&(e.smsCode.error=t.response.data.data.message)}));case 12:s=t.sent;case 13:null!==(n=s)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.success&&(e.timerCount=45),e.$emit("loading",!1);case 15:case"end":return t.stop()}}),t)})))()},validateCode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("loading",!0),e.smsCode.error=!1,!e.validate){t.next=8;break}return t.next=5,T.validateCode({phone:e.phone,code:e.smsCode.value}).catch((function(t){N["a"].track("Sign-in popup","Get Failed sms auth"),t.response&&(e.smsCode.error=t.response.data.data.message)}));case 5:s=t.sent,t.next=11;break;case 8:return t.next=10,T.signinByPhone({phone:e.phone,code:e.smsCode.value}).catch((function(t){N["a"].track("Sign-in popup","Get Failed sms auth"),t.response&&(e.smsCode.error=t.response.data.data.message)}));case 10:s=t.sent;case 11:null!==(n=s)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.success&&(N["a"].track("Sign-in popup","Get Success sms auth"),e.$emit("success"),a=JSON.parse(s.data.data.user.replace(/'/g,'"')),o=new CustomEvent("Auth::user",{detail:Object(r["a"])({},a)}),fakeWindow.dispatchEvent(o)),e.$emit("loading",!1);case 13:case"end":return t.stop()}}),t)})))()}}},te=ee,ne=(n("e992"),n("8fa5"),Object(h["a"])(te,Q,X,!1,null,"86bc67b0",null)),ie=ne.exports,se=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"signup__wrapper",on:{close:function(t){return e.close()}}},[t("div",{staticClass:"signup"},[t("div",{staticClass:"signup__header"},[t("div",{staticClass:"signup__header__icon-back",on:{click:function(t){return e.back()}}},[t("Icon",{attrs:{icon:"back",color:"#9999A9"}})],1),t("div",{staticClass:"signup__header__label font-h1",domProps:{textContent:e._s(e.$t("auth.signup.title"))}}),t("div",{staticClass:"signup__header__icon-close",on:{click:function(t){return e.close()}}},[t("Icon",{attrs:{icon:"close",color:"#9999A9"}})],1)]),t("div",{staticClass:"signup__body"},[t("div",{staticClass:"signup__body__switcher-wrapper"},[t("div",{staticClass:"signup__body__switcher"},[t("div",{staticClass:"signup__body__switcher__item",class:{"signup__body__switcher__item--active":"User"===e.user.userRole},domProps:{innerHTML:e._s(e.$t("auth.signup.traveler"))},on:{click:function(t){return e.setUserRole("User")}}}),t("div",{staticClass:"signup__body__switcher__item",class:{"signup__body__switcher__item--active":"Expert"===e.user.userRole},domProps:{innerHTML:e._s(e.$t("auth.signup.expert"))},on:{click:function(t){return e.setUserRole("Expert")}}})])]),t("div",{staticClass:"signup__body__social"},e._l(e.socialNets,(function(n){return t("div",e._b({key:n.code,staticClass:"signup__body__social__btn",style:{backgroundImage:n.imgUrl,backgroundSize:n.size},on:{click:function(t){return e.clickSocial(n)}}},"div","apple"===n.code&&e.isSafari&&e.appleSoc,!1))})),0),t("span",{domProps:{textContent:e._s(e.$t("auth.initial.or"))}}),t("div",{staticClass:"signup__body__input__wrapper"},[t("Input",{attrs:{autocomplete:"given-name",placeholder:e.$t("auth.signup.name"),error:e.errors.firstName},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup()}},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}),t("Input",{attrs:{autocomplete:"family-name",placeholder:e.$t("auth.signup.lastName"),error:e.errors.lastName},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup()}},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}})],1),e.useForTest("C")?t("div",{staticClass:"signup__body__input"},[t("div",{staticClass:"signup__body__input__wrapper"},e._l(e.getButtonsFormownership(),(function(n,i){return t("ButtonSelect",{key:i,attrs:{text:n.label,active:e.user.formownership===n.code},on:{click:function(t){return e.setButtonSelect("formownership",n.code)}}})})),1),e.errors.formownership?t("div",{staticClass:"input-error"},[t("span",[e._v(e._s(e.errors.formownership))])]):e._e()]):e._e(),e.useForTest("C")&&e.user.formownership?t("div",{staticClass:"signup__body__input"},[e._l(e.getButtonsType,(function(n,i){return t("ButtonSelect",{key:i,attrs:{text:n.label,active:e.user.type===n.code},on:{click:function(t){return e.setButtonSelect("type",n.code)}}})})),e.errors.type?t("div",{staticClass:"input-error"},[t("span",[e._v(e._s(e.errors.type))])]):e._e()],2):e._e(),t("Input",{staticClass:"signup__body__input",attrs:{autocomplete:"email",placeholder:"E-mail",error:e.errors.email},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup()}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),t("Input",{ref:"phone",staticClass:"signup__body__input",attrs:{autocomplete:"tel",phone:!0,error:e.errors.phone},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup()}},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),t("Input",{staticClass:"signup__body__input",attrs:{autocomplete:"new-password",placeholder:e.$t("auth.password.password"),name:"password",inputType:e.pwdInputType,eye:!0,error:e.errors.password},on:{inputType:function(t){return e.setInputType()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t("Button",{staticClass:"signup__body__btn",attrs:{text:e.$t("auth.signup.signup")},on:{click:function(t){return e.signup()}}}),t("div",{staticClass:"signup__body__legal font-text-small",domProps:{innerHTML:e._s(e.$t("auth.signup.terms"))}})],1)])])},ae=[],oe=(n("159b"),n("b64b"),n("9fd8")),re={components:{Icon:l["a"],Modal:_["a"],Input:w["a"],Button:k["a"],ButtonSelect:oe["a"]},props:{socialNets:{type:Array,required:!0},isSafari:{type:Boolean,required:!0},appleSoc:{type:Object,required:!0},email:{type:String,default:""},phone:{type:String,default:""}},data:function(){return{pwdInputType:"password",user:{userRole:"User",firstName:"",lastName:"",email:"",phone:"",password:"",abtest:"A",formownership:"",type:""},errors:{firstName:!1,lastName:!1,email:!1,phone:!1,password:!1,formownership:!1,type:!1}}},methods:{back:function(){N["a"].track("Sign-in popup","Click Back button"),this.$emit("showInitial")},close:function(){this.$emit("close")},setInputType:function(){this.pwdInputType="password"===this.pwdInputType?"text":"password"},checkCredentials:function(){var e=this,t=!0;return Object.keys(this.user).forEach((function(n){var i;e.user[n]?"phone"===n&&(null===(i=e.user[n])||void 0===i?void 0:i.replace(/ /g,"").length)<12?(e.errors[n]=e.$t("auth.initial.wrongPhone"),t=!1):e.errors[n]=!1:e.useForTest("C")||"formownership"!==n&&"type"!==n?(e.errors[n]=e.$t("auth.signup.fill"),t=!1):e.errors[n]=!1})),this.user.email&&!A(this.user.email)&&(this.errors.email=this.$t("auth.initial.wrongEmail"),t=!1),t},signup:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("loading",!0),!e.checkCredentials()){t.next=16;break}return t.next=4,T.registerUser(Object(r["a"])(Object(r["a"])({},e.user),{},{email:e.user.email.trim(),confirmPassword:e.user.password})).catch((function(t){if(console.log(t),t.response){var n,i,s=null===(n=t.response.data.data.errors)||void 0===n?void 0:n.field;if(void 0!==s&&""!==s)e.errors[s]=null===(i=t.response.data.data.errors)||void 0===i?void 0:i.message;else e.errors.password=t.response.data.data.message}}));case 4:if(i=t.sent,null===i||void 0===i||null===(n=i.data)||void 0===n||!n.success){t.next=16;break}return t.next=8,T.sendValidationCode(e.user.phone).catch((function(t){console.log(t),t.response&&(e.errors.password=t.response.data.data.message)}));case 8:a=t.sent,null!==a&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.success&&e.$emit("showConfirmSms",{phone:e.user.phone,validate:!0}),e.$emit("success"),o=e.user.abtest,"C"===o?N["a"].track("Sign-in popup","Click Register User "+o):N["a"].track("Sign-in popup","Click Sign-up button"),c=JSON.parse(i.data.data.user.replace(/'/g,'"')),u=new CustomEvent("Auth::user",{detail:Object(r["a"])({},c)}),fakeWindow.dispatchEvent(u);case 16:e.$emit("loading",!1);case 17:case"end":return t.stop()}}),t)})))()},clickSocial:function(e){N["a"].track("Sign-in popup","Click OAuth button","".concat(e.code," Sign-up popup")),this.$emit("openPopup",e)},setUserRole:function(e){N["a"].track("Sign-in popup","Click Switch role",e),this.user.userRole=e},setButtonSelect:function(e,t){"formownership"==e&&(this.user.type=""),this.user[e]=t},getButtonsFormownership:function(){return[{code:"individual",label:this.$t("auth.signup.individual")},{code:"entity",label:this.$t("auth.signup.entity")}]},useForTest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A";return this.getABTest()===e&&"Expert"===this.user.userRole},getABTest:function(){var e=document.getElementById("signup__abtest").getAttribute("data-abvalue");return this.user.abtest=e,e}},computed:{getButtonsType:function(){var e=[{code:"team",label:this.$t("auth.signup.team")},{code:"tourLeader",label:this.$t("auth.signup.tourLeader")}];return"entity"===this.user.formownership&&e.push({code:"touroperator",label:this.$t("auth.signup.touroperator")}),e}},mounted:function(){this.isSafari&&AppleID.auth.init(JSON.parse(this.socialNets.find((function(e){var t=e.code;return"apple"===t})).url)),this.email&&(this.user.email=this.email),this.phone&&(this.user.phone=this.phone)}},ce=re,ue=(n("b42c"),n("e750"),Object(h["a"])(ce,se,ae,!1,null,"eb2a2326",null)),le=ue.exports,pe=n("2f62"),de={components:{Loader:m,Initial:q,Existing:D,Password:Z,ConfirmSms:ie,Signup:le},data:function(){return{isRussian:"ru"===j["a"].locale,loading:!1,isAuth:!1,isInitial:!1,isExisting:!1,isPassword:!1,isCofirm:!1,isSignup:!1,socialNets:[],authType:null,email:null,phone:null,avatar:null,name:null,request:null,eixstingSocial:null,validate:!1,isSafari:!1,appleSoc:{id:"appleid-signin","data-type":"sign in"},popup:null}},computed:Object(r["a"])({},Object(pe["e"])({getUserLoginStatus:function(e){return e.user.getUserLoginStatus}})),methods:Object(r["a"])(Object(r["a"])({},Object(pe["d"])({setUser:"user/setUser"})),{},{open:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,s,a,o,r,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&(t.request=e),t.isAuth=!0,a=document.documentElement.style.getPropertyValue("--scroll-y"),o=document.body,o.style.position="fixed",o.style.width="100%",o.style.top="-".concat(a),r=null===(i=document.cookie.split(";").find((function(e){return e.includes("loginLastSocService")})))||void 0===i?void 0:i.split("="),c=null===(s=document.cookie.split(";").find((function(e){return e.includes("loginLastUser")})))||void 0===s?void 0:s.split("="),c?(r&&(t.eixstingSocial=r[1]),u=decodeURIComponent(c[1]).split("|"),t.authType=u[0],"email"===t.authType||"soc"===t.authType?t.email=u[1]:t.phone="+".concat(u[1].replace("+","")),t.avatar=u[2],t.name=u[3],t.isExisting=!0,t.isInitial=!1,N["a"].track("Sign-in popup","Show Known popup",r?t.eixstingSocial:t.email)):(N["a"].track("Sign-in popup","Show Unknown popup"),t.isInitial=!0,t.isExisting=!1),n.next=12,t.fetchOAuthServices();case 12:e&&(t.request=e);case 13:case"end":return n.stop()}}),n)})))()},onSuccess:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=null===(n=e.request)||void 0===n?void 0:n["emit-event"],!i){t.next=5;break}return e.close(),fakeWindow.dispatchEvent(new CustomEvent("auth.success",{detail:i})),t.abrupt("return");case 5:if(!e.request){t.next=10;break}return o=youtravel||{},t.next=9,o.ModalController.openModal(Object(r["a"])(Object(r["a"])({},e.request),{},{isLegacy:!0}));case 9:"AddToFavorite"===(null===(s=e.request)||void 0===s||null===(a=s.bodyRequest)||void 0===a?void 0:a.action)&&fakeWindow.location.reload();case 10:e.close();case 11:case"end":return t.stop()}}),t)})))()},onSocialCallback:function(e){e.success&&this.onSuccess()},fetchOAuthServices:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.socialNets.length){t.next=8;break}return t.next=3,T.getServices("#").catch((function(e){return console.log(e)}));case 3:n=t.sent,i=n.data,s=i.success,a=i.data,s&&(e.socialNets=a.map((function(t){var n;switch(t.code){case"apple":if(e.isSafari){var i=document.createElement("script");i.src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",document.head.append(i),i.onload=function(){document.addEventListener("AppleIDSignInOnSuccess",(function(e){$.ajax({url:"/bitrix/tools/oauth/apple.php",method:"POST",data:e.detail.authorization,success:function(e){var t=JSON.parse(e.replace(/'/g,'"')),n=t.detail,i=new CustomEvent("Auth::data",{detail:n});fakeWindow.dispatchEvent(i)}})})),this.loading=!1}}n="url(/local/templates/youtravel/static/i/social/apple-fill.png)";break;case"Facebook":n="url(/local/templates/youtravel/static/i/social/facebook-fill.png)";break;case"GoogleOAuth":n="url(/local/templates/youtravel/static/i/social/google-fill.png)";break;case"VKontakte":n="url(/local/templates/youtravel/static/i/social/vk-fill.png)";break}return Object(r["a"])(Object(r["a"])({},t),{},{imgUrl:n})})).filter((function(t){var n=t.code;return!e.isRussian||"Facebook"!==n})).filter((function(t){var n=t.code;return!!e.isRussian||"VKontakte"!==n})));case 8:case"end":return t.stop()}}),t)})))()},openPopup:function(e){var t=e.url,n=e.code;if("apple"!==n||!this.isSafari){var i="scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,\n        width=600,height=425";this.popup&&(this.popup.close(),this.popup=null),this.popup=fakeWindow.open(t,"auth",i)}},close:function(){var e;N["a"].track("Sign-in popup","Close Popup");var t=null===(e=this.request)||void 0===e?void 0:e["emit-event"];this.isAuth=!1,this.loading=!1,this.isInitial=!1,this.isExisting=!1,this.isPassword=!1,this.isCofirm=!1,this.isSignup=!1,this.email=null,this.phone=null,this.avatar=null,this.name=null,this.request=null,this.validate=!1;var n=document.body,i=n.style.top;n.style.position="",n.style.top="",fakeWindow.scrollTo(0,-1*parseInt(i||"0")),this.getUserLoginStatus&&fakeWindow.dispatchEvent(new CustomEvent("auth.close",{detail:t}))},setLoading:function(e){this.loading=e},showInitial:function(e){N["a"].track("Sign-in popup","Show Unknown popup"),e&&(this.email=""),this.isInitial=!0,this.isExisting=!1,this.isPassword=!1,this.isCofirm=!1,this.isSignup=!1,this.validate=!1},showSignup:function(e){var t=e.email,n=void 0===t?null:t,i=e.phone,s=void 0===i?null:i;N["a"].track("Sign-in popup","Show Sign-up popup"),this.email=n,this.phone=s,this.isSignup=!0,this.isInitial=!1,this.isExisting=!1,this.isPassword=!1,this.isCofirm=!1},showPassword:function(e){N["a"].track("Sign-in popup","Show Password request popup"),this.email=e,this.isSignup=!1,this.isInitial=!1,this.isExisting=!1,this.isPassword=!0,this.isCofirm=!1},showConfirmSms:function(e){var t=e.phone,n=e.validate;N["a"].track("Sign-in popup","Show Enter sms popup"),this.phone=t,this.validate=n,this.isSignup=!1,this.isInitial=!1,this.isExisting=!1,this.isPassword=!1,this.isCofirm=!0}}),mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,vueOptions.ssr?e.isSafari=!1:e.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),fakeWindow.showAuthModal||(fakeWindow.showVueAuthModal=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.open(t)}),fakeWindow.processSocialData=function(t){e.onSocialCallback(t)},fakeWindow.addEventListener("Auth::data",(function(t){t.detail.user.isLoggedIn&&(e.setUser(t.detail.user),e.onSuccess())})),fakeWindow.addEventListener("scroll",(function(){document.documentElement.style.setProperty("--scroll-y","".concat(fakeWindow.scrollY,"px"))})),e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){fakeWindow.removeEventListener("scroll"),fakeWindow.removeEventListener("Auth::data")}},he=de,fe=(n("9e2f"),n("bba5"),Object(h["a"])(he,s,a,!1,null,"390d5db4",null)),me=fe.exports,ge=n("4360"),ve=n("660e");i["default"].use(ve["a"],{breakpoints:{"size-sm":768,"size-md":1024,"size-lg":1256,"size-xl":1344,"size-xxl":1/0}}),i["default"].config.productionTip=!1,new i["default"]({i18n:j["a"],store:ge["a"],render:function(e){return e(me)}}).$mount("#auth")},bba5:function(e,t,n){"use strict";n("32b9")},c638:function(e,t,n){},c761:function(e,t,n){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},cc04:function(e,t,n){"use strict";n("b09c")},da69:function(e,t,n){},e750:function(e,t,n){"use strict";n("fbd4")},e820:function(e,t,n){"use strict";n("6e9f")},e992:function(e,t,n){"use strict";n("5a64")},ef83:function(e,t,n){},f3bb:function(e,t,n){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},fbd4:function(e,t,n){}});
//# sourceMappingURL=auth.580eac6f.js.map