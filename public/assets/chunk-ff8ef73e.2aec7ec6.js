(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff8ef73e"],{"12e0":function(e,t,o){},"267c":function(e,t,o){},"2a34":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-tools"},[e.mobileLocPopupIsOpen?t("div",{staticClass:"search-tools__popup"}):e._e(),t("TourSelector",{ref:"tourSelector",staticClass:"search-tools__destination",class:{separate:!e.showDivider},attrs:{place:"main",autofocus:e.autofocus},on:{updateLocation:function(t){return e.$emit("updateLocation",t)}}}),!e.mobileLocPopupIsOpen&&e.showDivider?t("div",{staticClass:"search-tools__divider"},[t("div")]):e._e(),t("DateSelector",{directives:[{name:"show",rawName:"v-show",value:!e.mobileLocPopupIsOpen,expression:"!mobileLocPopupIsOpen"}],ref:"dateSelector",staticClass:"search-tools__date",on:{updateDate:function(t){return e.$emit("updateDate",t)},switchPeriod:function(t){return e.$emit("switchPeriod",t)}}})],1)},i=[],s=o("5530"),a=(o("ac1f"),o("841c"),o("a4d3"),o("e01a"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"serp-tour-selector",class:{active:e.isActive}},[t("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.activeTourSearchOption||e.mobileLocPopupIsOpen,expression:"!activeTourSearchOption || mobileLocPopupIsOpen"}],staticClass:"serp-tour-selector__icon-search",attrs:{icon:"search",color:this.searchIconColor}}),t("Multiselect",{ref:"multiselectRef",staticClass:"multiselect-search",class:{mt6:e.tours.length},attrs:{placeholder:"",label:"tour",selectedLabel:"",selectLabel:"",deselectLabel:"",searchable:!0,options:e.tours,loading:e.isLoading,"internal-search":!1,limit:3,value:e.activeTourSearchOption,preserveSearch:!0,"group-values":"options","group-label":"label","group-select":!1,autofocus:e.autofocus,clearOnSelect:!1},on:{"search-change":e.fetchLocation,open:e.openHandler,close:e.closeHandler,input:function(t){e.querySearch=t},select:e.locationHandler},scopedSlots:e._u([{key:"singleLabel",fn:function(o){var n=o.option;return[t("div",{staticClass:"active-item",domProps:{innerHTML:e._s(n.label?n.label:"")}})]}},{key:"noOptions",fn:function(){return[e.isLoadingRecommended?e._e():t("span",{staticClass:"serp-tour-selector__placeholder",domProps:{textContent:e._s(e.searchLabels.startTyping)}}),e.isLoadingRecommended?t("div",{staticClass:"serp-tour-selector__loader"},[t("Icon",{attrs:{icon:"loader-circle"}})],1):e._e()]},proxy:!0},{key:"noResult",fn:function(){return[t("span",{staticClass:"serp-tour-selector__placeholder",domProps:{textContent:e._s(e.searchLabels.nothingToShow)}})]},proxy:!0},{key:"beforeList",fn:function(){return[t("div",{staticClass:"serp-tour-selector__before-list"},[t("location-nearby",{on:{trigger:e.onLocationTrigger,"get-current-position":e.onGetCurrentPosition,pending:function(t){e.isLoading=t}}})],1)]},proxy:!0},{key:"option",fn:function(o){var n=o.option,i=o.search;return[n.id?t("div",{staticClass:"search-item",on:{click:function(t){return e.trackEvent("main"==e.place?"Main page Search":"Header Search","Click Suggested option",n.type,{item:n.label})}}},[t("div",{staticClass:"description"},[t("span",{staticClass:"item-title",domProps:{innerHTML:e._s(n.label)}}),n.description?t("span",{staticClass:"item-description"},[e._v(" "+e._s(i)+" ")]):e._e()]),"tour"!==n.type?t("div",{staticClass:"type"},[t("span",{staticClass:"item-type"},[e._v(e._s(n.count))])]):e._e()]):t("div",{staticClass:"search-item"},[t("div",{staticClass:"description--group"},[t("span",{staticClass:"item-title",domProps:{innerHTML:e._s(n.$groupLabel)}})])])]}}])},[t("template",{slot:"placeholder"},[t("span",{domProps:{textContent:e._s(e.placeholder)}})]),t("template",{slot:"caret"},[t("div",{staticClass:"empty"})])],2),t("div",{directives:[{name:"show",rawName:"v-show",value:e.activeTourSearchOption&&!e.isActive,expression:"activeTourSearchOption && !isActive"}],staticClass:"serp-tour-selector__icon-remove",on:{click:function(t){return t.stopPropagation(),e.locationHandler(null)}}},[t("Icon",{attrs:{icon:"close",color:"#121212"}})],1),e.isActive?t("div",{staticClass:"serp-tour-selector__icon-close",on:{click:e.closeHandler}},[t("Icon",{attrs:{icon:"close",color:"#121212"}})],1):e._e()],1)}),r=[],c=o("1da1"),l=(o("96cf"),o("4de4"),o("b64b"),o("c740"),o("c16e")),u=o("1a52"),d=o("8edd"),p=o("9ea0"),h=o("8e5f"),v=o.n(h),f=o("7cc2"),m=o("7507"),_=o("2f62"),g={name:"tour-selector",mixins:[m["a"]],components:{Icon:l["a"],Multiselect:v.a,LocationNearby:f["a"]},props:{autofocus:{type:Boolean,default:!0},place:{validator:function(e){return-1!==["","main","header"].indexOf(e)},default:""}},data:function(){return{isActive:!1,isLoading:!1,isLoadingRecommended:!1,searchLabels:{startTyping:u["a"].t("tourSelector.startTyping"),nothingToShow:u["a"].t("tourSelector.nothingToShow"),chooseDirection:u["a"].t("tourSelector.chooseDirection")},tours:[],querySearch:"",activeTourSearchOption:null}},computed:Object(s["a"])(Object(s["a"])({},Object(_["e"])({mobileLocPopupIsOpen:function(e){return e.serp.mobileLocPopupIsOpen}})),{},{placeholder:function(){return this.querySearch?this.querySearch:this.$t("serp.topMenu.where")},isMobile:function(){return fakeWindow.innerWidth<943},searchIconColor:function(){return this.isActive&&this.isMobile?"#9999A9":"#121212"}}),methods:Object(s["a"])(Object(s["a"])({},Object(_["d"])({setMobileLocPopupIsOpen:"serp/setMobileLocPopupIsOpen"})),{},{locationHandler:function(e){this.querySearch=(null===e||void 0===e?void 0:e.label)||"",this.activeTourSearchOption=e,this.isLoading=!1,this.isActive=!1,this.$emit("updateLocation",this.activeTourSearchOption)},onLocationTrigger:function(){this.$refs.multiselectRef.deactivate()},onGetCurrentPosition:function(e){var t=e.latitude,o=e.longitude;this.locationHandler({type:"distance",label:this.$t("locationNearby.label"),lat:t,lon:o,radius:1e3})},openHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var o,n,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isMobile&&(e.setMobileLocPopupIsOpen(!0),n=document.documentElement.style.getPropertyValue("--scroll-y"),i=document.body,i.style.position="fixed",i.style.width="100%",i.style.top="-".concat(n)),e.emitHeaderShow(!1),e.$refs.multiselectRef.$refs.search.removeAttribute("readonly"),e.isLoadingRecommended=!0,e.isActive=!0,e.$emit("isOpen",!0),e.querySearch){t.next=11;break}return t.next=9,e.getRecommendedLocations();case 9:t.next=17;break;case 11:if(null!==(o=e.tours)&&void 0!==o&&o.length){t.next=17;break}return t.next=14,d["a"].getList(e.querySearch);case 14:s=t.sent,a=s.data.data.autocomplete,a&&(e.tours=e.parseLocations(a));case 17:e.isLoadingRecommended=!1;case 18:case"end":return t.stop()}}),t)})))()},closeHandler:function(){if(this.isMobile){this.setMobileLocPopupIsOpen(!1);var e=document.body,t=e.style.top;e.style.position="",e.style.top="",fakeWindow.scrollTo(0,-1*parseInt(t||"0"))}this.emitHeaderShow(!0),this.isActive=!1,this.$emit("isOpen",!1)},trackEvent:function(e,t,o,n){p["a"].track(e,t,o,n)},fetchLocation:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function o(){var n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.querySearch=e,t.$emit("searchChange",e),t.querySearch){o.next=6;break}return o.next=5,t.getRecommendedLocations();case 5:return o.abrupt("return");case 6:return t.isLoading=!0,o.next=9,d["a"].getList(t.querySearch).catch((function(e){return console.log(e)}));case 9:n=o.sent,i=n.data.data.autocomplete,i&&(t.tours=t.parseLocations(i)),t.isLoading=!1;case 13:case"end":return o.stop()}}),o)})))()},getRecommendedLocations:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var o,n,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=[],t.next=3,d["a"].getList().catch((function(e){return console.log(e)}));case 3:n=t.sent,i=n.data.data,s=i.popular_items,a=i.search_history,a&&o.push({type:"history",label:e.$t("serp.topMenu.history"),options:e.parseLocationOptions(a)}),s&&o.push({type:"popular",label:e.$t("serp.topMenu.popular"),options:e.parseLocationOptions(s)}),e.tours=o;case 10:case"end":return t.stop()}}),t)})))()},parseLocations:function(e){var t=this,o=e.filter((function(e){var t=e.type;return"type"!==t}));return this.isIosApp&&(o=o.filter((function(e){return"location"!==e.type&&("region"!==e.type||470!==e.id)}))),Object.keys(o).reduce((function(e,n){var i=e.findIndex((function(e){var t=e.type;return t===o[n].type})),a=e.findIndex((function(e){var t=e.type;return"better"===t}));return null!==e&&void 0!==e&&e[i]&&e[i].options.push(Object(s["a"])(Object(s["a"])({},o[n]),{},{count:u["a"].tc("tourSelector.tours",o[n].tour_count)})),n<4&&t.querySearch.length&&e[a].options.push(Object(s["a"])(Object(s["a"])({},o[n]),{},{count:u["a"].tc("tourSelector.tours",o[n].tour_count)})),e}),[{type:"better",label:this.$t("serp.topMenu.better"),options:[]},{type:"history",label:this.$t("serp.topMenu.history"),options:[]},{type:"country",label:this.$t("serp.topMenu.countries"),options:[]},{type:"continent",label:this.$t("serp.topMenu.continents"),options:[]},{type:"region",label:this.$t("serp.topMenu.regions"),options:[]},{type:"location",label:this.$t("serp.topMenu.destinations"),options:[]},{type:"tour",label:this.$t("serp.topMenu.tours"),options:[]},{type:"popular",label:this.$t("serp.topMenu.popular"),options:[]}]).filter((function(e){var t=e.options;return t.length}))},parseLocationOptions:function(e){var t=e.filter((function(e){var t=e.type;return"type"!==t}));return this.isIosApp&&(t=t.filter((function(e){return"location"!==e.type&&("region"!==e.type||470!==e.id)}))),Object.keys(t).reduce((function(e,o){return e.push(Object(s["a"])(Object(s["a"])({},t[o]),{},{count:u["a"].tc("tourSelector.tours",t[o].tour_count)})),e}),[])},setSearch:function(e){this.$refs.multiselectRef.updateSearch(e)},setLocation:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=(null===e||void 0===e?void 0:e[0])||e;o&&this.isMobile&&t&&(this.closeHandler(),this.scrollTop()),this.activeTourSearchOption=o,this.querySearch=(null===o||void 0===o?void 0:o.label)||""},scrollTop:function(){var e=document.body,t=e.style.top;window.scrollTo(0,-1*parseInt(t||"0"))}}),mounted:function(){var e=this.$refs.multiselectRef.$refs.search;e.setAttribute("readonly",!0),e.addEventListener("blur",(function(){e.setAttribute("readonly",!0)}),!0),fakeWindow.addEventListener("scroll",(function(){document.documentElement.style.setProperty("--scroll-y","".concat(fakeWindow.scrollY,"px"))}))},beforeDestroy:function(){fakeWindow.removeEventListener("scroll",document.documentElement),fakeWindow.removeEventListener("blur",this.$refs.multiselectRef.$refs.search)}},b=g,y=(o("cd95"),o("6d65"),o("0c7c")),C=Object(y["a"])(b,a,r,!1,null,"2a0d30d6",null),w=C.exports,k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"date-selector",class:{active:e.isCalendarActive||e.isCategoriesActive}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}],staticClass:"date-selector__icon-wrapper",on:{click:function(t){return e.openCalendarHandler({category:"Main_filter",event:"when_dates_click"})}}},[t("Icon",{staticClass:"date-selector__icon",attrs:{icon:"calendar",color:"#121212"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"date-selector__icon-remove",on:{click:function(t){t.stopPropagation(),e.setDate(null),e.$emit("updateDate",null)}}},[t("Icon",{attrs:{icon:"close",color:"#121212"}})],1),t("DatePicker",{staticClass:"date-selector__placeholder",attrs:{placeholder:e.placeholder,editable:!1,"prefix-class":"serp",format:"DD.MM.YYYY","range-separator":" — ",lang:e.datepickerLang,value:e.value,open:e.isCalendarActive||e.isCategoriesActive,"append-to-body":!1,range:""},on:{open:function(t){return e.openCalendarHandler({category:"Main_filter",event:"when_dates_click"})},close:e.closeHandler},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"date-selector__dropdown__mobile-header"},[t("div",{staticClass:"date-selector__dropdown__mobile-header__title font-h1",domProps:{textContent:e._s(e.$t("serp.topMenu.when"))}}),t("div",{staticClass:"date-selector__dropdown__mobile-header__icon",on:{click:e.closeHandler}},[t("Icon",{attrs:{icon:"close",color:"#9999A9"}})],1)]),t("div",{staticClass:"date-selector__dropdown__switcher-wrapper"},[t("div",{staticClass:"date-selector__dropdown__switcher"},[t("div",{staticClass:"date-selector__dropdown__switcher__item",class:{"date-selector__dropdown__switcher__item--active":e.isCategoriesActive},domProps:{textContent:e._s(e.$t("serp.topMenu.monthOrPeriod"))},on:{click:function(t){return e.openCategoriesHandler({category:"Main_filter",event:"when_dates_click"})}}}),t("div",{staticClass:"date-selector__dropdown__switcher__item",class:{"date-selector__dropdown__switcher__item--active":e.isCalendarActive},on:{click:function(t){return e.openCalendarHandler(e.datepicker.button.exactDates.trackEvent)}}},[t("Icon",{attrs:{icon:"calendar",color:"#121212"}}),t("div",{domProps:{textContent:e._s(e.$t("serp.topMenu.exactDates"))}})],1)])]),t("CalendarRange",{directives:[{name:"show",rawName:"v-show",value:e.isCalendarActive,expression:"isCalendarActive"}],attrs:{value:e.value,"disabled-date":e.disabledDate},on:{select:function(t){return e.acceptDate(t)}}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isCalendarActive,expression:"isCalendarActive"}],staticClass:"date-selector__switcher"},[t("div",{staticClass:"font-text",domProps:{textContent:e._s(e.$t("serp.topMenu.additionalDays"))}}),t("Switcher",{attrs:{checked:!e.strictPeriod},on:{switch:function(t){return e.acceptStrictPeriod(!t)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isCategoriesActive,expression:"isCategoriesActive"}],staticClass:"date-selector__dropdown__categories"},[e.isCategoriesActive&&!e.isLoadDatepicker?t("preloader",{staticClass:"date-selector__dropdown__categories__preloader",attrs:{visible:""}}):e._e(),e._l(e.dateCategories,(function(o){return t("div",{key:o.id,staticClass:"date-selector__dropdown__categories__column",style:{gridArea:"area".concat(o.id)}},[t("div",{staticClass:"date-selector__dropdown__categories__column__label font-caps",domProps:{textContent:e._s(o.title)}}),e._l(o.options,(function(n){return t("div",{key:n.id,staticClass:"date-selector__dropdown__categories__column__item category-list",domProps:{textContent:e._s(n.title)},on:{click:function(t){return e.acceptDate(n.value,o.trackEvent,o.type)}}})}))],2)}))],2)]},proxy:!0}])})],1)},L=[],O=o("3835"),S=o("2cf3"),P=o("ec45"),x=o("0787"),M=o("5e7e"),D=o("f0aa"),$=P["default"].CalendarRange;M["a"].monthFormat="MMMM";var I={name:"date-selector",mixins:[m["a"]],components:{Preloader:D["a"],DatePicker:P["default"],CalendarRange:$,Icon:l["a"],Switcher:x["a"]},computed:Object(s["a"])(Object(s["a"])({},Object(_["e"])({datepicker:function(e){return e.dateCategories.datepicker},dateCategories:function(e){return e.dateCategories.dateCategories},isLoadDatepicker:function(e){return e.dateCategories.isLoad},mobileDatePopupIsOpen:function(e){return e.serp.mobileDatePopupIsOpen},strictPeriod:function(e){return e.serp.strictPeriod}})),{},{isMobile:function(){return fakeWindow.innerWidth<943}}),data:function(){return{datepickerLang:u["a"].t("dateSelector.datepickerLang"),placeholder:this.$t("serp.topMenu.when"),isCategoriesActive:!1,isCalendarActive:!1,value:null}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(_["b"])({fetchDatepicker:"dateCategories/fetchDatepicker"})),Object(_["d"])({setMobileDatePopupIsOpen:"serp/setMobileDatePopupIsOpen",setStrictPeriod:"serp/setStrictPeriod"})),{},{trackEvent:function(e,t,o){p["a"].track(e,t,o)},isValidDate:function(e){return e instanceof Date&&!isNaN(e)},acceptStrictPeriod:function(e){this.setStrictPeriod(e),this.strictPeriod=e,this.$emit("switchPeriod",e)},acceptDate:function(e,t,o){var n=Object(O["a"])(e,2),i=n[0],s=n[1];this.value=[],i?this.value.push(this.isValidDate(i)?i:Object(S["a"])(i,"dd.MM.yyyy",new Date)):this.value.push(""),s?this.value.push(this.isValidDate(s)?s:Object(S["a"])(s,"dd.MM.yyyy",new Date)):this.value.push(""),this.value.push(o),this.$emit("updateDate",this.value),"undefined"!==typeof t&&this.trackEvent(t.category,t.event),this.closeHandler()},setDate:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.value=e?e[0]:e,this.isMobile&&this.value&&t&&this.scrollTop()},openCalendarHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.isMobile){this.setMobileDatePopupIsOpen(!0);var t=document.documentElement.style.getPropertyValue("--scroll-y"),o=document.body;o.style.position="fixed",o.style.width="100%",o.style.top="-".concat(t)}this.emitHeaderShow(!1),this.isCalendarActive=!0,this.isCategoriesActive=!1,"undefined"!==typeof e&&this.trackEvent(e.category,e.event)},openCategoriesHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.isLoadDatepicker||this.fetchDatepicker(),this.isMobile){this.setMobileDatePopupIsOpen(!0);var t=document.documentElement.style.getPropertyValue("--scroll-y"),o=document.body;o.style.position="fixed",o.style.width="100%",o.style.top="-".concat(t)}this.isCategoriesActive=!0,this.isCalendarActive=!1,"undefined"!==typeof e&&this.trackEvent(e.category,e.event)},closeHandler:function(){if(this.isMobile){this.setMobileDatePopupIsOpen(!1);var e=document.body,t=e.style.top;e.style.position="",e.style.top="",fakeWindow.scrollTo(0,-1*parseInt(t||"0"))}this.emitHeaderShow(!0),this.isCalendarActive=!1,this.isCategoriesActive=!1},disabledDate:function(e){var t=new Date;return t.setHours(0,0,0,0),e<t},scrollTop:function(){var e=document.body,t=e.style.top;window.scrollTo(0,-1*parseInt(t||"0"))}}),mounted:function(){fakeWindow.addEventListener("scroll",(function(){document.documentElement.style.setProperty("--scroll-y","".concat(fakeWindow.scrollY,"px"))}))},beforeDestroy:function(){fakeWindow.removeEventListener("scroll",document.documentElement)}},A=I,T=(o("e5d5"),Object(y["a"])(A,k,L,!1,null,"2c88ca1a",null)),j=T.exports,H={components:{TourSelector:w,DateSelector:j},props:{autofocus:{type:Boolean,default:!1},showDivider:{type:Boolean,default:!0}},computed:Object(s["a"])({},Object(_["e"])({mobileLocPopupIsOpen:function(e){return e.serp.mobileLocPopupIsOpen},dates:function(e){return e.serp.dates},location:function(e){return e.serp.location}})),methods:{setDate:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$refs.dateSelector.setDate(e,t)},setLocation:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$refs.tourSelector.setLocation(e,t)},setLocationSearch:function(e){this.$refs.tourSelector.setSearch(e)}},mounted:function(){this.setDate(this.dates,!1),this.setLocation(this.location,!1)}},R=H,E=(o("ddea"),Object(y["a"])(R,n,i,!1,null,"427b8cfe",null));t["default"]=E.exports},"3a39":function(e,t,o){},"500c":function(e,t,o){},"59ea":function(e,t,o){e.exports={white:"#fff",black:"#121212","pitch-black":"#000",secondary:"#9999a9",red:"#f84565","green-main":"#abc232","green-hover":"#9aae2d","green-dark":"#87a038","gray-dark":"#d1d7e8","gray-hover":"#e4e4e8","gray-light":"#eeeef2"}},"6d65":function(e,t,o){"use strict";o("3a39")},"7cc2":function(e,t,o){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"location-nearby"},[t("div",{staticClass:"location-nearby__container"},[t("yt-button",{staticClass:"location-nearby__trigger u-w-full",attrs:{color:"gray",disabled:e.permissionDenied,squared:""},on:{click:e.onTrigger}},[t("span",{staticClass:"location-nearby__trigger-container"},[t("span",{staticClass:"location-nearby__trigger-icon u-flex-shrink-0"},[t("svg-inline",{attrs:{tag:"span"}},[t("icon",{attrs:{icon:"icon-geo-sharp"}})],1)],1),t("span",{staticClass:"location-nearby__trigger-text font-semibold",domProps:{innerHTML:e._s(e.$t("locationNearby.trigger.text"))}})])]),e.permissionDenied?t("div",{staticClass:"location-nearby__denied u-text-red u-text-center font-text-small",domProps:{innerHTML:e._s(e.$t("locationNearby.denied"))}}):t("div",{staticClass:"location-nearby__hint u-text-center font-text-small",domProps:{innerHTML:e._s(e.$t("locationNearby.hint"))}})],1),t("popup",{attrs:{size:"sm"},model:{value:e.popups.geo,callback:function(t){e.$set(e.popups,"geo",t)},expression:"popups.geo"}},[t("div",{staticClass:"location-nearby__popup"},[t("div",{staticClass:"location-nearby__popup-icon"},[t("svg-inline",[t("icon",{attrs:{icon:"geo-circle-error"}})],1)],1),t("div",{staticClass:"location-nearby__popup-text font-h2 u-text-center",domProps:{innerHTML:e._s(e.$t("locationNearby.popup.text"))}}),t("yt-button",{staticClass:"u-w-full",on:{click:e.onAsk}},[e._v(" "+e._s(e.$t("locationNearby.popup.button"))+" ")])],1)])],1)},i=[],s=o("4992"),a=o("6eca"),r=o("c16e"),c=o("035a"),l={components:{YtButton:s["a"],SvgInline:a["a"],Icon:r["a"],Popup:c["a"]},data:function(){return{permissionState:void 0,popups:{geo:!1}}},computed:{permissionGranted:function(){return"granted"===this.permissionState},permissionDenied:function(){return"denied"===this.permissionState}},mounted:function(){this.checkGeoPermission()},methods:{onTrigger:function(){this.permissionDenied||(this.$emit("trigger"),this.permissionGranted?this.getCurrentPosition():this.popups.geo=!0)},onAsk:function(){this.popups.geo=!1,this.getCurrentPosition()},getCurrentPosition:function(){var e=this;this.permissionState="prompt",this.$emit("pending",!0),vueOptions.ssr||navigator.geolocation.getCurrentPosition((function(t){var o=t.coords;e.permissionState="granted",e.$emit("get-current-position",o),e.$emit("pending",!1)}),(function(){e.permissionState="denied",e.$emit("pending",!1)}))},checkGeoPermission:function(){var e,t=this;if(!vueOptions.ssr)return null===(e=navigator.permissions)||void 0===e?void 0:e.query({name:"geolocation"}).then((function(e){var o=e.state;t.permissionState=o}))}}},u=l,d=(o("9c72"),o("0c7c")),p=Object(d["a"])(u,n,i,!1,null,"7ed389a8",null);t["a"]=p.exports},"8edd":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));o("99af");var n=o("a8d5"),i=o("1a52"),s=o("852e"),a=o.n(s),r=o("a597"),c={getLocations:function(e){return n["a"].get("/locations/search?q=".concat(e))},getLocationId:function(e){return n["a"].get("/locations/".concat(e))},getRegions:function(e){return n["a"].get("/locations/regions?countries=".concat(e))},getList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,s="?term=".concat(e,"&type=").concat(t,"&take=").concat(o,"&lang=").concat(i["a"].locale,"&skip=0");if(!e){var c=a.a.get("BX_USER_ID");c||(c=r["a"].guid(),a.a.set("BX_USER_ID",c)),s="?guest_id=".concat(c,"&take=",5,"&lang=").concat(i["a"].locale,"&skip=0")}return n["a"].get("/suggest/locations-with-history".concat(s))},getHistory:function(e){return n["a"].get("/suggest/getHistory?take=3&skip=0&lang=".concat(i["a"].locale,"&user=").concat(e))}}},"9c72":function(e,t,o){"use strict";o("12e0")},c518:function(e,t,o){"use strict";o("c9d7")},c9d7:function(e,t,o){},cd95:function(e,t,o){"use strict";o("59ea")},ddea:function(e,t,o){"use strict";o("500c")},e5d5:function(e,t,o){"use strict";o("267c")},f0aa:function(e,t,o){"use strict";var n=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[e.visible?t("div",{staticClass:"preloader",class:["_".concat(e.position),{_overlay:e.overlay}]},[t("div",{staticClass:"preloader__icon"},[t("div",{staticClass:"preloader__icon-svg"},[t("svg-inline",[t("icon",{attrs:{icon:"loader-circle"}})],1)],1)])]):e._e()])},i=[],s=(o("caad"),o("6eca")),a=o("c16e"),r={components:{SvgInline:s["a"],Icon:a["a"]},props:{visible:{type:Boolean,default:!1},position:{type:String,default:"static",validator:function(e){return["static","absolute","fixed"].includes(e)}},overlay:{type:Boolean,default:!1}}},c=r,l=(o("c518"),o("0c7c")),u=Object(l["a"])(c,n,i,!1,null,"0e007d2a",null);t["a"]=u.exports}}]);
//# sourceMappingURL=chunk-ff8ef73e.2aec7ec6.js.map